"use strict";var dataMock=[{name:2018,children:[{name:"2018-01",children:[{name:"文章1",url:"//baidu.com"},{name:"文章2",url:"//baidu.com"}]},{name:"2018-02",children:[{name:"文章1",url:"//baidu.com"},{name:"文章2",url:"//baidu.com"}]}]},{name:2017,children:[{show:!1,name:"2017-01",children:[{name:"文章1",url:"#"},{name:"文章2",url:"#"}]},{name:"2017-02",children:[{name:"文章1",url:"#"},{name:"文章2",url:"#"}]}]}],DelItem=Vue.extend({props:["item1","item2","index2"],template:'<li ref="currentItem"><a :href="item2.url"><span class="del-btn" @click.prevent="deleteItem(item1.children,index2)" ref="remove">删除</span><p@touchstart="_touchStart(item2)"@touchmove.prevent="_touchMove(item2)"@touchend="_touchEnd(item2)":style="item2.style">{{item2.name}}</p></a></li>',data:function(){return{startX:0,moveX:0,disX:0}},methods:{computeStyle:function(t){return"transform: translateX("+t+"px)"},_touchStart:function(e){var s=s||event,i=this.$refs.remove.offsetWidth,n=this;1==s.touches.length&&(void 0!==e.style&&null!=e.style&&e.style.match(/\d+/)[0]==String(i)&&s.preventDefault(),this.item1.children.forEach(function(t){if(t==e)return!1;void 0!==t.style&&null!=t.style&&t.style.match(/\d+/)[0]==String(i)&&(n.$set(t,"style",n.computeStyle("0")),s.preventDefault())}),this.startX=s.touches[0].clientX)},_touchMove:function(t){var e=e||event,s=this.$refs.remove.offsetWidth;1==e.touches.length&&(this.moveX=e.touches[0].clientX,this.disX=this.startX-this.moveX,this.disX<0||0==this.disX?this.$set(t,"style",this.computeStyle("0")):(this.$set(t,"style",this.computeStyle("-"+this.disX)),this.disX>=s&&this.$set(t,"style",this.computeStyle("-"+s))))},_touchEnd:function(t){var e=e||event,s=this.$refs.remove.offsetWidth;if(1==e.changedTouches.length){var i=e.changedTouches[0].clientX;this.disX=this.startX-i,this.disX<s/2?this.$set(t,"style",this.computeStyle("0")):this.$set(t,"style",this.computeStyle("-"+s))}},deleteItem:function(t,e){t.splice(e,1)}}});Vue.component("del-item",DelItem),new Vue({el:"#el",data:{dataList:[]},mounted:function(){var e=this;this.dataList=dataMock,this.dataList.forEach(function(t){e.$set(t,"show",!1),t.children.forEach(function(t){e.$set(t,"show",!1)})})},methods:{resetDelStatus:function(){var e=this;this.dataList.forEach(function(t){t.children.forEach(function(t){t.children.forEach(function(t){void 0!==t.style&&0!=Number(t.style.match(/\d+/))&&e.$set(t,"style","transform: translateX(0px)")})})})},toggle:function(e){this.dataList.forEach(function(t){t.show=t==e&&!t.show,t.children.forEach(function(t){t.show&&(t.show=!1)})}),this.resetDelStatus()},toggle2:function(e){this.dataList.forEach(function(t){t.children.forEach(function(t){t.show=t==e&&!t.show})}),this.resetDelStatus()}}});
//# sourceMappingURL=main.min.js.map
