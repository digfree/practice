webpackJsonp([20],{"0PaT":function(e,r){e.exports='```\r\n<template>\r\n  <el-form ref="ruleForm" :model="ruleform" :rules="rules" label-width="120px">\r\n    <div class="el-mc-title">申请新建</div>\r\n    <el-form-item label="商场名称：" prop="name">\r\n      <el-input v-model="ruleform.name"  placeholder="商场名称" class="el-mc-input-medium"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label="英文名：">\r\n      <el-input v-model="ruleform.englishName" placeholder="英文名" class="el-mc-input-medium"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label="商场地址：" prop="address">\r\n      <el-input v-model="ruleform.address" placeholder="商场地址" class="el-mc-input-medium"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label="地图坐标：" prop="coordinate">\r\n      <el-col :span="2">\r\n        <el-form-item>\r\n          <el-input v-model="ruleform.coordinate[0]" placeholder="经度" class="el-mc-input-xsmall"></el-input>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :span="2">\r\n        <el-form-item>\r\n          <el-input v-model="ruleform.coordinate[1]" placeholder="纬度" class="el-mc-input-xsmall"></el-input>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-button type="primary" icon="el-icon-location-outline">设定地图坐标</el-button>\r\n    </el-form-item>\r\n    <el-form-item label="公司logo：" prop="imgUrl">\r\n      <el-upload\r\n        ref="elUpload"\r\n        action="https://jsonplaceholder.typicode.com/posts/"\r\n        list-type="picture-card"\r\n        class="avatar-uploader"\r\n        :class="{disabled: isDisabled}"\r\n        :on-success="handleUploadSuccess"\r\n        :on-preview="handlePicturePreview"\r\n        :before-upload="beforePictureUpload"\r\n        :on-remove="handleRemove"\r\n        :file-list="fileList">\r\n        <i class="el-icon-plus"></i>\r\n        <div slot="tip" class="el-upload__tip">只图片尺寸限制：500*500；图片格式支持：PNG、JPG、JPEG；最大支持4M</div>\r\n      </el-upload>\r\n\r\n      <el-dialog :visible.sync="dialogVisible">\r\n        <img width="100%" :src="dialogImageUrl" alt="">\r\n      </el-dialog>\r\n\r\n      <div style="display: inline-block;">\r\n        <span style="display:inline-block;vertical-align: top;">示例：</span>\r\n        <img :src="placeholderFigure" alt="示例图片" width="150" height="150">\r\n      </div>\r\n    </el-form-item>\r\n\r\n    <div class="el-mc-title">商场运营平台配置项</div>\r\n\r\n    <el-form-item label="产品与功能：">\r\n      <el-checkbox :indeterminate="isIndeterminate" v-model="checkAll" @change="handleCheckAllChange">全选</el-checkbox>\r\n      <el-checkbox-group v-model="ruleform.checkedItems" @change="handleCheckedItemsChange">\r\n        <el-checkbox v-for="item in items" :label="item" :key="item">{{item}}</el-checkbox>\r\n      </el-checkbox-group>\r\n      <div class="el-mc-tip">请选择需要开通的产品与功能</div>\r\n    </el-form-item>\r\n\r\n    <el-form-item label="口令核销：">\r\n        <el-switch  v-model="isSwitch"></el-switch>\r\n        <div class="el-mc-tip">开启口令验证，用户可以通过商场口令自助验证券。</div>\r\n        <div v-if="isSwitch">\r\n          <el-checkbox-group v-model="ruleform.checkedItems2">\r\n            <el-checkbox v-for="item in items2" :label="item" :key="item">{{item}}</el-checkbox>\r\n          </el-checkbox-group>\r\n          <el-form-item prop="verify">\r\n            <el-input v-model="ruleform.verify" placeholder="请输入验证口令" class="el-mc-input-medium"></el-input>\r\n          </el-form-item>\r\n          <div class="el-mc-tip">使用模板内容(需自行补充商场联系信息)</div>\r\n        </div>\r\n    </el-form-item>\r\n\r\n    <div class="el-mc-title">商场运营平台配置项</div>\r\n      <el-form-item label="用户协议内容：">\r\n        <el-switch  v-model="isSwitch2"></el-switch>\r\n        <div class="el-mc-tip">开启口令验证，用户可以通过商场口令自助验证券。</div>\r\n        <div v-if="isSwitch2">\r\n          <el-input\r\n          class="el-mc-input-large"\r\n          type="textarea"\r\n          :autosize="{ minRows: 10}"\r\n          v-model="ruleform.textareaData">\r\n        </el-input>\r\n        </div>\r\n    </el-form-item>\r\n\r\n    <el-form-item>\r\n      <el-button type="primary" @click="submitForm(\'ruleForm\')">立即创建</el-button>\r\n      <el-button @click="resetForm(\'ruleForm\')">重置</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      placeholderFigure: \'//mp-t.mallcoo.cn/assets/img/images-mp/sample-logo.png\',\r\n      dialogVisible: false,\r\n      dialogImageUrl: \'\',\r\n      isDisabled: false,\r\n      isIndeterminate: true,\r\n      checkAll: false,\r\n      isSwitch: false,\r\n      isSwitch2: false,\r\n      items: [\'餐饮（基础版）\', \'餐饮（基础版2）\'],\r\n      items2: [\'代金券\', \'折扣券\', \'兑换券\', \'优惠券\', \'停车券\'],\r\n      fileList: [\r\n        {\r\n          url: \'//mp-t.mallcoo.cn/assets/img/images-mp/sample-logo.png\'\r\n        }\r\n      ],\r\n      ruleform: {\r\n        name: \'\',\r\n        englishName: \'\',\r\n        address: \'\',\r\n        coordinate: [],\r\n        imgUrl: \'\',\r\n        checkedItems: [],\r\n        checkedItems2: [],\r\n        verify: \'\',\r\n        textareaData: \'\',\r\n      },\r\n      rules: {\r\n        name: [\r\n          {required: true,message: \'请输入商场名称\',trigger: \'blur\'},\r\n          {min: 1,max: 30,message: \'长度在1到30个字符\',trigger: \'blur\'},\r\n        ],\r\n        address: [\r\n          {required: true,message: \'请输入商场地址\',trigger: \'blur\'},\r\n          {min: 1,max: 30,message: \'长度在1到30个字符\',trigger: \'blur\'},\r\n        ],\r\n        coordinate: [\r\n          {\r\n            required: true,\r\n            validator: function(rule,value,callback){\r\n              if(value.length < 2){\r\n                callback(new Error(\'请输入经纬度\'));\r\n              }else{\r\n                var reg1 = /^[\\-\\+]?(0?\\d{1,2}\\.\\d{1,5}|1[0-7]?\\d{1}\\.\\d{1,5}|180\\.0{1,5})$/;  //经度 ： -180.0～+180.0（整数部分为0～180，必须输入1到5位小数）\r\n                var reg2 = /^[\\-\\+]?([0-8]?\\d{1}\\.\\d{1,5}|90\\.0{1,5})$/;                       //纬度： -90.0～+90.0（整数部分为0～90，必须输入1到5位小数）\r\n                if(!reg1.test(value[0]) || !reg2.test(value[1])){\r\n                  callback(new Error(\'输入格式错误\'));\r\n                }else{\r\n                  callback();\r\n                }\r\n              }\r\n            },\r\n            trigger: \'blur\',\r\n          },\r\n        ],\r\n        imgUrl: [\r\n          {required: true,message: \'请上传图片\',trigger: \'blur\'}\r\n        ],\r\n        verify: [\r\n          {min: 1,max: 30,message: \'长度在1到30个字符\',trigger: \'blur\'},\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  mounted(){\r\n    this.checkUploadIconShow();\r\n  },\r\n  methods: {\r\n    checkUploadIconShow(){\r\n      if(this.fileList.length>0){\r\n        this.isDisabled = true;\r\n        this.ruleform.imgUrl = this.fileList[0].url;\r\n      }\r\n    },\r\n    submitForm(formName){\r\n      this.$refs[formName].validate((valid)=>{\r\n        if(valid){\r\n          alert(\'submit!\' + JSON.stringify(this.ruleform,null,4));\r\n        }else{\r\n          console.log(\'error submit!\');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName){\r\n      this.$refs[formName].resetFields();\r\n\r\n      this.fileList = [];\r\n      this.isDisabled = false;\r\n      this.isSwitch = false;\r\n      this.isSwitch2 = false;\r\n      this.ruleform.englishName = \'\';\r\n      this.ruleform.checkedItems = [];\r\n      this.ruleform.checkedItems2 = [];\r\n      this.ruleform.verify = \'\';\r\n      this.ruleform.textareaData = \'\';\r\n      this.ruleform.imgUrl = \'\';\r\n    },\r\n    handleRemove(file,fileList) {\r\n      this.isDisabled = false;\r\n      this.ruleform.imgUrl = \'\';\r\n      this.fileList = [];\r\n    },\r\n    beforePictureUpload(file) {\r\n      const isJPG = file.type === \'image/jpeg\' || file.type === \'image/png\' || file.type === \'image/jpg\';\r\n      const isLt2M = file.size / 1024 / 1024 < 4;\r\n      if (!isJPG) {\r\n        this.$message.error(\'上传图片只能是PNG、JPG、JPEG 格式!\');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\'上传图片大小不能超过 4MB!\');\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n    handlePicturePreview(file) {\r\n      this.dialogVisible = true;\r\n      this.dialogImageUrl = file.url;\r\n    },\r\n    handleUploadSuccess(res, file){\r\n      this.isDisabled = true;\r\n      this.ruleform.imgUrl = URL.createObjectURL(file.raw);\r\n    },\r\n    handleCheckAllChange(val) {\r\n      this.ruleform.checkedItems = val ? this.items : [];\r\n      this.isIndeterminate = false;\r\n    },\r\n    handleCheckedItemsChange(value) {\r\n      let checkedCount = value.length;\r\n      this.checkAll = checkedCount === this.items.length;\r\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.items.length;\r\n    }\r\n  },\r\n  components:{\r\n    CardBox,\r\n  },\r\n}\r\n<\/script>\r\n```'},"3cXf":function(e,r,l){e.exports={default:l("LERP"),__esModule:!0}},"4Q4u":function(e,r,l){e.exports=l.p+"static/img/sample-logo.d35d4d8.png"},LERP:function(e,r,l){var t=l("yDNk"),i=t.JSON||(t.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},ZLgq:function(e,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=l("3cXf"),i=l.n(t),n=l("vhXa"),s=l("0PaT"),a=l.n(s),o=l("4Q4u"),m=l.n(o),c={data:function(){return{code1:a.a,placeholderFigure:m.a,dialogVisible:!1,dialogImageUrl:"",isDisabled:!1,isIndeterminate:!0,checkAll:!1,isSwitch:!1,isSwitch2:!1,items:["餐饮（基础版）","餐饮（基础版2）"],items2:["代金券","折扣券","兑换券","优惠券","停车券"],fileList:[{url:m.a}],ruleform:{name:"",englishName:"",address:"",coordinate:[],imgUrl:"",checkedItems:[],checkedItems2:[],verify:"",textareaData:""},rules:{name:[{required:!0,message:"请输入商场名称",trigger:"blur"},{min:1,max:30,message:"长度在1到30个字符",trigger:"blur"}],address:[{required:!0,message:"请输入商场地址",trigger:"blur"},{min:1,max:30,message:"长度在1到30个字符",trigger:"blur"}],coordinate:[{required:!0,validator:function(e,r,l){if(r.length<2)l(new Error("请输入经纬度"));else{/^[\-\+]?(0?\d{1,2}\.\d{1,5}|1[0-7]?\d{1}\.\d{1,5}|180\.0{1,5})$/.test(r[0])&&/^[\-\+]?([0-8]?\d{1}\.\d{1,5}|90\.0{1,5})$/.test(r[1])?l():l(new Error("输入格式错误"))}},trigger:"blur"}],imgUrl:[{required:!0,message:"请上传图片",trigger:"blur"}],verify:[{min:1,max:30,message:"长度在1到30个字符",trigger:"blur"}]}}},mounted:function(){this.checkUploadIconShow()},methods:{checkUploadIconShow:function(){this.fileList.length>0&&(this.isDisabled=!0,this.ruleform.imgUrl=this.fileList[0].url)},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!"),!1;alert("submit!"+i()(r.ruleform,null,4))})},resetForm:function(e){this.$refs[e].resetFields(),this.fileList=[],this.isDisabled=!1,this.isSwitch=!1,this.isSwitch2=!1,this.ruleform.englishName="",this.ruleform.checkedItems=[],this.ruleform.checkedItems2=[],this.ruleform.verify="",this.ruleform.textareaData="",this.ruleform.imgUrl=""},handleRemove:function(e,r){this.isDisabled=!1,this.ruleform.imgUrl="",this.fileList=[]},beforePictureUpload:function(e){var r="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type,l=e.size/1024/1024<4;return r||this.$message.error("上传图片只能是PNG、JPG、JPEG 格式!"),l||this.$message.error("上传图片大小不能超过 4MB!"),r&&l},handlePicturePreview:function(e){this.dialogVisible=!0,this.dialogImageUrl=e.url},handleUploadSuccess:function(e,r){this.isDisabled=!0,this.ruleform.imgUrl=URL.createObjectURL(r.raw)},handleCheckAllChange:function(e){this.ruleform.checkedItems=e?this.items:[],this.isIndeterminate=!1},handleCheckedItemsChange:function(e){var r=e.length;this.checkAll=r===this.items.length,this.isIndeterminate=r>0&&r<this.items.length}},components:{CardBox:n.a}},u={render:function(){var e=this,r=e.$createElement,l=e._self._c||r;return l("div",[l("card-box",{attrs:{title:"基础用法"}},[l("template",{slot:"content"},[l("el-form",{ref:"ruleForm",attrs:{model:e.ruleform,rules:e.rules,"label-width":"120px"}},[l("div",{staticClass:"el-mc-title"},[e._v("申请新建")]),e._v(" "),l("el-form-item",{attrs:{label:"商场名称：",prop:"name"}},[l("el-input",{staticClass:"el-mc-input-medium",attrs:{placeholder:"商场名称"},model:{value:e.ruleform.name,callback:function(r){e.$set(e.ruleform,"name",r)},expression:"ruleform.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"英文名："}},[l("el-input",{staticClass:"el-mc-input-medium",attrs:{placeholder:"英文名"},model:{value:e.ruleform.englishName,callback:function(r){e.$set(e.ruleform,"englishName",r)},expression:"ruleform.englishName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商场地址：",prop:"address"}},[l("el-input",{staticClass:"el-mc-input-medium",attrs:{placeholder:"商场地址"},model:{value:e.ruleform.address,callback:function(r){e.$set(e.ruleform,"address",r)},expression:"ruleform.address"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地图坐标：",prop:"coordinate"}},[l("el-col",{attrs:{span:2}},[l("el-form-item",[l("el-input",{staticClass:"el-mc-input-xsmall",attrs:{placeholder:"经度"},model:{value:e.ruleform.coordinate[0],callback:function(r){e.$set(e.ruleform.coordinate,0,r)},expression:"ruleform.coordinate[0]"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-form-item",[l("el-input",{staticClass:"el-mc-input-xsmall",attrs:{placeholder:"纬度"},model:{value:e.ruleform.coordinate[1],callback:function(r){e.$set(e.ruleform.coordinate,1,r)},expression:"ruleform.coordinate[1]"}})],1)],1),e._v(" "),l("el-button",{attrs:{type:"primary",icon:"el-icon-location-outline"}},[e._v("设定地图坐标")])],1),e._v(" "),l("el-form-item",{attrs:{label:"公司logo：",prop:"imgUrl"}},[l("el-upload",{ref:"elUpload",staticClass:"avatar-uploader",class:{disabled:e.isDisabled},attrs:{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-success":e.handleUploadSuccess,"on-preview":e.handlePicturePreview,"before-upload":e.beforePictureUpload,"on-remove":e.handleRemove,"file-list":e.fileList}},[l("i",{staticClass:"el-icon-plus"}),e._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只图片尺寸限制：500*500；图片格式支持：PNG、JPG、JPEG；最大支持4M")])]),e._v(" "),l("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(r){e.dialogVisible=r}}},[l("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),l("div",{staticStyle:{display:"inline-block"}},[l("span",{staticStyle:{display:"inline-block","vertical-align":"top"}},[e._v("示例：")]),e._v(" "),l("img",{attrs:{src:e.placeholderFigure,alt:"示例图片",width:"150",height:"150"}})])],1),e._v(" "),l("div",{staticClass:"el-mc-title"},[e._v("商场运营平台配置项")]),e._v(" "),l("el-form-item",{attrs:{label:"产品与功能："}},[l("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(r){e.checkAll=r},expression:"checkAll"}},[e._v("全选")]),e._v(" "),l("el-checkbox-group",{on:{change:e.handleCheckedItemsChange},model:{value:e.ruleform.checkedItems,callback:function(r){e.$set(e.ruleform,"checkedItems",r)},expression:"ruleform.checkedItems"}},e._l(e.items,function(r){return l("el-checkbox",{key:r,attrs:{label:r}},[e._v(e._s(r))])})),e._v(" "),l("div",{staticClass:"el-mc-tip"},[e._v("请选择需要开通的产品与功能")])],1),e._v(" "),l("el-form-item",{attrs:{label:"口令核销："}},[l("el-switch",{model:{value:e.isSwitch,callback:function(r){e.isSwitch=r},expression:"isSwitch"}}),e._v(" "),l("div",{staticClass:"el-mc-tip"},[e._v("开启口令验证，用户可以通过商场口令自助验证券。")]),e._v(" "),e.isSwitch?l("div",[l("el-checkbox-group",{model:{value:e.ruleform.checkedItems2,callback:function(r){e.$set(e.ruleform,"checkedItems2",r)},expression:"ruleform.checkedItems2"}},e._l(e.items2,function(r){return l("el-checkbox",{key:r,attrs:{label:r}},[e._v(e._s(r))])})),e._v(" "),l("el-form-item",{attrs:{prop:"verify"}},[l("el-input",{staticClass:"el-mc-input-medium",attrs:{placeholder:"请输入验证口令"},model:{value:e.ruleform.verify,callback:function(r){e.$set(e.ruleform,"verify",r)},expression:"ruleform.verify"}})],1),e._v(" "),l("div",{staticClass:"el-mc-tip"},[e._v("使用模板内容(需自行补充商场联系信息)")])],1):e._e()],1),e._v(" "),l("div",{staticClass:"el-mc-title"},[e._v("商场运营平台配置项")]),e._v(" "),l("el-form-item",{attrs:{label:"用户协议内容："}},[l("el-switch",{model:{value:e.isSwitch2,callback:function(r){e.isSwitch2=r},expression:"isSwitch2"}}),e._v(" "),l("div",{staticClass:"el-mc-tip"},[e._v("开启口令验证，用户可以通过商场口令自助验证券。")]),e._v(" "),e.isSwitch2?l("div",[l("el-input",{staticClass:"el-mc-input-large",attrs:{type:"textarea",autosize:{minRows:10}},model:{value:e.ruleform.textareaData,callback:function(r){e.$set(e.ruleform,"textareaData",r)},expression:"ruleform.textareaData"}})],1):e._e()],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),l("el-button",{on:{click:function(r){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1),e._v(" "),l("template",{slot:"code"},[e._v(e._s(e.code1))])],2)],1)},staticRenderFns:[]},d=l("Z0/y")(c,u,!1,null,null,null);r.default=d.exports}});
//# sourceMappingURL=20.bcca68be5905e87c4f95.js.map