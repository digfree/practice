"use strict";var DelItem=Vue.extend({props:["item1","item2","index2"],template:'<li ref="currentItem" :index="index2"><a :href="item2.url"><span class="del-btn" @click.prevent="deleteItem(item1.children,index2)" ref="remove">删除</span><p@touchstart.prevent="_touchStart"@touchmove.prevent="_touchMove"@touchend="_touchEnd":style="txtStyle">{{item2.name}}</p></a></li>',data:function(){return{startX:0,moveX:0,disX:0,txtStyle:""}},computed:{},methods:{_touchStart:function(t){if(1==(t=t||event).touches.length){for(var e=this.$refs.currentItem.parentNode.children.length,n=this.$refs.currentItem.getAttribute("index"),r=0;r<e;r++)r!=n&&this.$refs.currentItem.parentNode.children[r].getElementsByTagName("p")[0].setAttribute("style","transform: translateX(0px)");this.startX=t.touches[0].clientX}},_touchMove:function(t){t=t||event;var e=this.$refs.remove.offsetWidth;1==t.touches.length&&(this.moveX=t.touches[0].clientX,this.disX=this.startX-this.moveX,this.disX<0||0==this.disX?this.txtStyle="transform: translateX(0px)":(this.txtStyle="transform: translateX(-"+this.disX+"px)",this.disX>=e&&(this.txtStyle="transform: translateX(-"+e+"px)")))},_touchEnd:function(t){t=t||event;var e=this.$refs.remove.offsetWidth;if(1==t.changedTouches.length){var n=t.changedTouches[0].clientX;this.disX=this.startX-n,this.disX<e/2?this.txtStyle="transform: translateX(0px)":this.txtStyle="transform: translateX(-"+e+"px)"}},deleteItem:function(t,e){t.splice(e,1),this.txtStyle="transform: translateX(0px)"}}});Vue.component("del-item",DelItem),new Vue({el:"#el",data:{dataList:[]},mounted:function(){this.dataList=[{show:!1,name:2018,children:[{show:!1,name:"2018-01",children:[{name:"文章1",url:"//baidu.com"},{name:"文章2",url:"#"},{name:"文章3",url:"#"}]},{show:!1,name:"2018-02",children:[{name:"文章1",url:"#"},{name:"文章2",url:"#"},{name:"文章3",url:"#"}]}]},{show:!1,name:2017,children:[{show:!1,name:"2017-01",children:[{name:"文章1",url:"#"},{name:"文章2",url:"#"},{name:"文章3",url:"#"}]},{show:!1,name:"2017-02",children:[{name:"文章1",url:"#"},{name:"文章2",url:"#"},{name:"文章3",url:"#"}]}]}]},methods:{toggle:function(t){var e=e||event;if(t.show=!t.show,t.show)for(var n=e.target.parentNode.parentNode.children.length,r=e.target.getAttribute("index"),s=0;s<n;s++)s!=r&&(e.target.parentNode.parentNode.children[s].getElementsByTagName("ul")[0].setAttribute("style","display: none"),e.target.parentNode.parentNode.children[s].getElementsByTagName("p")[0].setAttribute("class",""))}}});
//# sourceMappingURL=main.min.js.map
