"use strict";var DelItem=Vue.extend({props:["item1","item2","index2"],template:'<li ref="currentItem" :index="index2"><a :href="item2.url"><span class="del-btn" @click.prevent="deleteItem(item1.children,index2)" ref="remove">删除</span><p@touchstart="_touchStart"@touchmove.prevent="_touchMove"@touchend="_touchEnd":style="txtStyle">{{item2.name}}</p></a></li>',data:function(){return{startX:0,moveX:0,disX:0,txtStyle:""}},computed:{},methods:{_touchStart:function(t){t=t||event;var e=this.$refs.remove.offsetWidth;if(1==t.touches.length){var n=this.$refs.currentItem.getAttribute("index"),a=this.$refs.currentItem.parentNode.children.length,r=this.$refs.currentItem.parentNode.children[n].getElementsByTagName("p")[0].getAttribute("style");void 0!==r&&null!=r&&r.match(/\d+/)[0]==String(e)&&t.preventDefault();for(var s=0;s<a;s++)if(s!=n){var i=this.$refs.currentItem.parentNode.children[s],l=i.getElementsByTagName("p")[0].getAttribute("style");void 0!==l&&null!=l&&l.match(/\d+/)[0]==String(e)&&(i.getElementsByTagName("p")[0].style.transform="translateX(0px)",t.preventDefault())}this.startX=t.touches[0].clientX}},_touchMove:function(t){t=t||event;var e=this.$refs.remove.offsetWidth;1==t.touches.length&&(this.moveX=t.touches[0].clientX,this.disX=this.startX-this.moveX,this.disX<0||0==this.disX?this.txtStyle="transform: translateX(0px)":(this.txtStyle="transform: translateX(-"+this.disX+"px)",this.disX>=e&&(this.txtStyle="transform: translateX(-"+e+"px)")))},_touchEnd:function(t){t=t||event;var e=this.$refs.remove.offsetWidth;if(1==t.changedTouches.length){var n=t.changedTouches[0].clientX;this.disX=this.startX-n,this.disX<e/2?this.txtStyle="transform: translateX(0px)":this.txtStyle="transform: translateX(-"+e+"px)"}},deleteItem:function(t,e){this.txtStyle="transform: translateX(0px)",t.splice(e,1)}}});Vue.component("del-item",DelItem),new Vue({el:"#el",data:{dataList:[]},mounted:function(){this.dataList=[{show:!1,name:2018,children:[{show:!1,name:"2018-01",children:[{name:"文章1",url:"//baidu.com"},{name:"文章2",url:"//baidu.com"}]},{show:!1,name:"2018-02",children:[{name:"文章1",url:"#"},{name:"文章2",url:"#"}]}]},{show:!1,name:2017,children:[{show:!1,name:"2017-01",children:[{name:"文章1",url:"#"},{name:"文章2",url:"#"}]},{show:!1,name:"2017-02",children:[{name:"文章1",url:"#"},{name:"文章2",url:"#"}]}]}]},methods:{toggleShare:function(t){var e=e||event,n=e.target.getAttribute("index"),a=e.target.parentNode.parentNode.children.length;t.show=!1;for(var r=0;r<a;r++){var s=e.target.parentNode.parentNode.children[r],i=s.getElementsByTagName("ul")[0],l=s.getElementsByTagName("p")[0];r==n?""==l.className?(l.className="active",i.style.display="block"):t.show=!0:(l.className="",i.style.display="none")}for(var o=e.target.parentNode.parentNode.getElementsByTagName("p"),h=0;h<o.length;h++){var m=o[h].style.transform;void 0!==m&&0<Number(m.match(/\d+/))&&(o[h].style.transform="translateX(0px)")}t.show=!t.show},toggle:function(t){this.toggleShare(t);for(var e=e||event,n=e.target.nextSibling.nextSibling.getElementsByTagName("p"),a=0;a<n.length;a++)"active"==n[a].className&&(n[a].className="",n[a].nextSibling.nextSibling.style.display="none")},toggle2:function(t){this.toggleShare(t)}}});
//# sourceMappingURL=main.min.js.map
