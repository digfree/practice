webpackJsonp([29],{"4Q4u":function(e,t,l){e.exports=l.p+"static/img/sample-logo.d35d4d8.png"},PBk6:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l("3cXf"),r=l.n(i),s=l("vhXa"),a=l("4Q4u"),o=l.n(a),c={data:function(){return{placeholderFigure:o.a,dialogVisible:!1,dialogImageUrl:"",isDisabled:!1,isIndeterminate:!0,checkAll:!1,isSwitch:!1,isSwitch2:!1,items:["餐饮（基础版）","餐饮（基础版2）"],items2:["代金券","折扣券","兑换券","优惠券","停车券"],fileList:[{url:o.a}],ruleform:{name:"",englishName:"",address:"",coordinate:[],imgUrl:"",checkedItems:[],checkedItems2:[],verify:"",textareaData:""},rules:{name:[{required:!0,message:"请输入商场名称",trigger:"blur"},{min:1,max:30,message:"长度在1到30个字符",trigger:"blur"}],address:[{required:!0,message:"请输入商场地址",trigger:"blur"},{min:1,max:30,message:"长度在1到30个字符",trigger:"blur"}],coordinate:[{required:!0,validator:function(e,t,l){if(t.length<2)l(new Error("请输入经纬度"));else{/^[\-\+]?(0?\d{1,2}\.\d{1,5}|1[0-7]?\d{1}\.\d{1,5}|180\.0{1,5})$/.test(t[0])&&/^[\-\+]?([0-8]?\d{1}\.\d{1,5}|90\.0{1,5})$/.test(t[1])?l():l(new Error("输入格式错误"))}},trigger:"blur"}],imgUrl:[{required:!0,message:"请上传图片",trigger:"blur"}],verify:[{min:1,max:30,message:"长度在1到30个字符",trigger:"blur"}]}}},mounted:function(){this.checkUploadIconShow()},methods:{checkUploadIconShow:function(){this.fileList.length>0&&(this.isDisabled=!0,this.ruleform.imgUrl=this.fileList[0].url)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!"),!1;alert("submit!"+r()(t.ruleform,null,4))})},resetForm:function(e){this.$refs[e].resetFields(),this.fileList=[],this.isDisabled=!1,this.isSwitch=!1,this.isSwitch2=!1,this.ruleform.englishName="",this.ruleform.checkedItems=[],this.ruleform.checkedItems2=[],this.ruleform.verify="",this.ruleform.textareaData="",this.ruleform.imgUrl=""},handleRemove:function(e,t){this.isDisabled=!1,this.ruleform.imgUrl="",this.fileList=[]},beforePictureUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type,l=e.size/1024/1024<4;return t||this.$message.error("上传图片只能是PNG、JPG、JPEG 格式!"),l||this.$message.error("上传图片大小不能超过 4MB!"),t&&l},handlePicturePreview:function(e){this.dialogVisible=!0,this.dialogImageUrl=e.url},handleUploadSuccess:function(e,t){this.isDisabled=!0,this.ruleform.imgUrl=URL.createObjectURL(t.raw)},handleCheckAllChange:function(e){this.ruleform.checkedItems=e?this.items:[],this.isIndeterminate=!1},handleCheckedItemsChange:function(e){var t=e.length;this.checkAll=t===this.items.length,this.isIndeterminate=t>0&&t<this.items.length}},components:{CardBox:s.a}},n={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("card-box",{attrs:{title:"基础用法"}},[l("template",{slot:"content"},[l("el-form",{ref:"ruleForm",attrs:{model:e.ruleform,rules:e.rules,"label-width":"120px"}},[l("div",{staticClass:"el-mc-title"},[e._v("申请新建")]),e._v(" "),l("el-form-item",{attrs:{label:"商场名称：",prop:"name"}},[l("el-input",{staticClass:"el-mc-input-medium",attrs:{placeholder:"商场名称"},model:{value:e.ruleform.name,callback:function(t){e.$set(e.ruleform,"name",t)},expression:"ruleform.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"英文名："}},[l("el-input",{staticClass:"el-mc-input-medium",attrs:{placeholder:"英文名"},model:{value:e.ruleform.englishName,callback:function(t){e.$set(e.ruleform,"englishName",t)},expression:"ruleform.englishName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商场地址：",prop:"address"}},[l("el-input",{staticClass:"el-mc-input-medium",attrs:{placeholder:"商场地址"},model:{value:e.ruleform.address,callback:function(t){e.$set(e.ruleform,"address",t)},expression:"ruleform.address"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地图坐标：",prop:"coordinate"}},[l("el-col",{attrs:{span:2}},[l("el-form-item",[l("el-input",{staticClass:"el-mc-input-xsmall",attrs:{placeholder:"经度"},model:{value:e.ruleform.coordinate[0],callback:function(t){e.$set(e.ruleform.coordinate,0,t)},expression:"ruleform.coordinate[0]"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:2}},[l("el-form-item",[l("el-input",{staticClass:"el-mc-input-xsmall",attrs:{placeholder:"纬度"},model:{value:e.ruleform.coordinate[1],callback:function(t){e.$set(e.ruleform.coordinate,1,t)},expression:"ruleform.coordinate[1]"}})],1)],1),e._v(" "),l("el-button",{attrs:{type:"primary",icon:"el-icon-location-outline"}},[e._v("设定地图坐标")])],1),e._v(" "),l("el-form-item",{attrs:{label:"公司logo：",prop:"imgUrl"}},[l("el-upload",{ref:"elUpload",staticClass:"avatar-uploader",class:{disabled:e.isDisabled},attrs:{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-success":e.handleUploadSuccess,"on-preview":e.handlePicturePreview,"before-upload":e.beforePictureUpload,"on-remove":e.handleRemove,"file-list":e.fileList}},[l("i",{staticClass:"el-icon-plus"}),e._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只图片尺寸限制：500*500；图片格式支持：PNG、JPG、JPEG；最大支持4M")])]),e._v(" "),l("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),l("div",{staticStyle:{display:"inline-block"}},[l("span",{staticStyle:{display:"inline-block","vertical-align":"top"}},[e._v("示例：")]),e._v(" "),l("img",{attrs:{src:e.placeholderFigure,alt:"示例图片",width:"150",height:"150"}})])],1),e._v(" "),l("div",{staticClass:"el-mc-title"},[e._v("商场运营平台配置项")]),e._v(" "),l("el-form-item",{attrs:{label:"产品与功能："}},[l("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),l("el-checkbox-group",{on:{change:e.handleCheckedItemsChange},model:{value:e.ruleform.checkedItems,callback:function(t){e.$set(e.ruleform,"checkedItems",t)},expression:"ruleform.checkedItems"}},e._l(e.items,function(t){return l("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),e._v(" "),l("div",{staticClass:"el-mc-tip"},[e._v("请选择需要开通的产品与功能")])],1),e._v(" "),l("el-form-item",{attrs:{label:"口令核销："}},[l("el-switch",{model:{value:e.isSwitch,callback:function(t){e.isSwitch=t},expression:"isSwitch"}}),e._v(" "),l("div",{staticClass:"el-mc-tip"},[e._v("开启口令验证，用户可以通过商场口令自助验证券。")]),e._v(" "),e.isSwitch?l("div",[l("el-checkbox-group",{model:{value:e.ruleform.checkedItems2,callback:function(t){e.$set(e.ruleform,"checkedItems2",t)},expression:"ruleform.checkedItems2"}},e._l(e.items2,function(t){return l("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),e._v(" "),l("el-form-item",{attrs:{prop:"verify"}},[l("el-input",{staticClass:"el-mc-input-medium",attrs:{placeholder:"请输入验证口令"},model:{value:e.ruleform.verify,callback:function(t){e.$set(e.ruleform,"verify",t)},expression:"ruleform.verify"}})],1),e._v(" "),l("div",{staticClass:"el-mc-tip"},[e._v("使用模板内容(需自行补充商场联系信息)")])],1):e._e()],1),e._v(" "),l("div",{staticClass:"el-mc-title"},[e._v("商场运营平台配置项")]),e._v(" "),l("el-form-item",{attrs:{label:"用户协议内容："}},[l("el-switch",{model:{value:e.isSwitch2,callback:function(t){e.isSwitch2=t},expression:"isSwitch2"}}),e._v(" "),l("div",{staticClass:"el-mc-tip"},[e._v("开启口令验证，用户可以通过商场口令自助验证券。")]),e._v(" "),e.isSwitch2?l("div",[l("el-input",{staticClass:"el-mc-input-large",attrs:{type:"textarea",autosize:{minRows:10}},model:{value:e.ruleform.textareaData,callback:function(t){e.$set(e.ruleform,"textareaData",t)},expression:"ruleform.textareaData"}})],1):e._e()],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),l("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],2)],1)},staticRenderFns:[]},m=l("Z0/y")(c,n,!1,null,null,null);t.default=m.exports}});
//# sourceMappingURL=29.2fd474813c650d3f5c2b.js.map